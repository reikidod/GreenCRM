<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ProcessFlow</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="css/main.css">
</head>
<body class="light-theme">

  <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <div class="logo-wrapper">
        <i class="fas fa-seedling logo-icon"></i>
        <span class="logo-text">GreenCRM</span>
      </div>
      <button class="toggle-sidebar"><i class="fas fa-bars"></i></button>
    </div>
    <ul class="sidebar-menu">
      <li class="active">
        <i class="fas fa-chart-pie"></i>
        <span>–ì–ª–∞–≤–Ω–∞—è</span>
        <div class="hover-effect"></div>
      </li>
      <li>
        <i class="fas fa-tasks"></i>
        <span>–ü—Ä–æ—Ü–µ—Å—Å—ã</span>
        <div class="hover-effect"></div>
      </li>
      <li>
        <i class="fas fa-bell"></i>
        <span>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
        <div class="hover-effect"></div>
      </li>
      <li class="settings-trigger">
        <i class="fas fa-cog"></i>
        <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
        <div class="hover-effect"></div>
      </li>
    </ul>
  </aside>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
  <main class="main-content">
    <div class="main-header">
      <h1>üìÇ –ü–∞–Ω–µ–ª—å –∑–∞–¥–∞—á</h1>
      <div class="filters">
        <input type="text" class="search-input" placeholder="–ü–æ–∏—Å–∫ –∑–∞–¥–∞—á...">
        <button class="btn-add-task">+ –ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</button>
        <!-- –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ -->
        <button onclick="logout()" class="btn-logout">–í—ã–π—Ç–∏</button>
      </div>
    </div>

    <!-- –î–æ—Å–∫–∞ –∑–∞–¥–∞—á -->
    <section class="task-board">
      <div class="task-column" data-status="work">
        <h2><i class="fas fa-rocket"></i> –í —Ä–∞–±–æ—Ç–µ</h2>
        <div class="cards-container" id="work-column"></div>
      </div>
      <div class="task-column" data-status="pending">
        <h2><i class="fas fa-clock"></i> –ù–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏</h2>
        <div class="cards-container" id="pending-column"></div>
      </div>
      <div class="task-column" data-status="done">
        <h2><i class="fas fa-check-circle"></i> –ó–∞–≤–µ—Ä—à–µ–Ω–æ</h2>
        <div class="cards-container" id="done-column"></div>
      </div>
    </section>
  </main>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ -->
  <div class="modal" id="add-task-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</h3>
        <button class="close-modal">&times;</button>
      </div>
      <form id="add-task-form">
        <input type="text" id="task-title" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏" required>
        <select id="task-status">
          <option value="work">–í —Ä–∞–±–æ—Ç–µ</option>
          <option value="pending">–ù–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏</option>
          <option value="done">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</option>
        </select>
        <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
      </form>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
  <div class="modal" id="settings-modal">
    <div class="modal-content">
      <button class="modal-close"></button>
      <div class="modal-header">
        <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
      </div>
      <div class="theme-options">
        <button class="theme-btn light" data-theme="light">–°–≤–µ—Ç–ª–∞—è</button>
        <button class="theme-btn dark" data-theme="dark">–¢–µ–º–Ω–∞—è</button>
      </div>
    </div>
  </div>

  <script src="js/main.js"></script>

  <!-- JavaScript –¥–ª—è –≤—ã—Ö–æ–¥–∞ -->
  <script>
    function logout() {
      fetch('/logout', {
        method: 'GET',
      }).then(function(response) {
        if (response.redirected) {
          window.location.href = '/'; // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞
        }
      }).catch(function(error) {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ:', error);
      });
    }
  </script>

</body>
</html>
